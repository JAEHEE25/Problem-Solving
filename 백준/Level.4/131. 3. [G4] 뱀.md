# 3. [G4] 뱀

### [ 문제 정보 ]
> **백준**: https://www.acmicpc.net/problem/3190
> 
> **난이도**: 4
>
> **유형**: #구현, #자료구조


### [ 문제 풀이 ]
```Java
import java.util.*;
import java.lang.*;
import java.io.*;

class Main {
    static int APPLE = 1;
    static int[] dx = {0, 1, 0, -1};
    static int[] dy = {1, 0, -1, 0};
    static Queue<int[]> snake;
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(br.readLine());
        int[][] board = new int[N][N];
        int K = Integer.parseInt(br.readLine());
        for (int i = 0; i < K; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());
            board[x - 1][y - 1] = APPLE;
        }

        int L = Integer.parseInt(br.readLine());
        Queue<Info> infos = new LinkedList<>(); //방향 전환 정보 리스트
        for (int i = 0; i < L; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            int time = Integer.parseInt(st.nextToken());
            char dir = st.nextToken().charAt(0);
            infos.add(new Info(time, dir));
        }

        snake = new LinkedList<>(); //뱀 위치 리스트
        snake.offer(new int[]{0, 0}); //처음 위치

        int time = 0;
        int hx = 0; //뱀 머리 위치
        int hy = 0;
        int dirIdx = 0; //방향 인덱스
        while (true) {
            time++;
            int nx = hx + dx[dirIdx];
            int ny = hy + dy[dirIdx];

            if (checkGameEnd(nx, ny, N)) {
                break;
            }

            snake.offer(new int[]{nx, ny}); //뱀 머리 추가
            hx = nx;
            hy = ny;
            if (board[nx][ny] == APPLE) { //사과 먹음
                board[nx][ny] = 0;
            } else {
                snake.poll(); //꼬리 빼기
            }
            
            //방향 전환할 시간이면
            if (!infos.isEmpty() && infos.peek().time == time) {
                dirIdx = getNewDirIdx(dirIdx, infos.peek().dir);
                infos.poll();
            }
        }

        System.out.println(time);
    }
    
    static boolean checkGameEnd(int nx, int ny, int N) {
        if (nx < 0 || nx >= N || ny < 0 || ny >= N) { //벽에 부딪히면
            return true;
        }
        
        for (int[] pos : snake) {
            if (pos[0] == nx && pos[1] == ny) { //뱀에 부딪히면
                return true;
            }
        }
        
        return false;
    }
    
    static int getNewDirIdx(int dirIdx, char dir) {
        if (dir == 'D') {
            return (dirIdx + 1) % 4;
        }
        return dirIdx == 0 ? 3 : dirIdx - 1;
    }

}

class Info {
    int time;
    char dir;

    Info(int time, char dir) {
        this.time = time;
        this.dir = dir;
    }
}


```
- 뱀 위치를 큐로 저장하고 체크


---
@www.codrive.co.kr