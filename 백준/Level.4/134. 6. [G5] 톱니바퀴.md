# 6. [G5] 톱니바퀴

### [ 문제 정보 ]
> **백준**: https://www.acmicpc.net/problem/14891
> 
> **난이도**: 4
>
> **유형**: #구현


### [ 문제 풀이 ]
```Java
import java.util.*;
import java.lang.*;
import java.io.*;

class Main {
    static char[][] gears = new char[4][8];
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		for(int i = 0; i < 4; i++) {
			gears[i] = br.readLine().toCharArray();
		}

        int K = Integer.parseInt(br.readLine());
        for(int i = 0; i < K; i++) {
			StringTokenizer st = new StringTokenizer(br.readLine());
			int idx = Integer.parseInt(st.nextToken()) - 1;
			int dir = Integer.parseInt(st.nextToken());
			rotateGears(idx, dir);
		}

        int answer = 0;
        for (int i = 0; i < 4; i++) {
            answer += Math.pow(2, i) * (gears[i][0] - '0');
        }
        System.out.println(answer);
    }

    static void rotateGears(int idx, int dir) {
        left(idx - 1, -dir);
        right(idx + 1, -dir);
        rotate(idx, dir);
    }

    static void left(int idx, int dir) {
        if (idx < 0) return;
        if (gears[idx][2] == gears[idx+1][6]) return;
        left(idx - 1, -dir);
        rotate(idx, dir);
    }

    static void right(int idx, int dir) {
        if (idx > 3) return;
        if (gears[idx][6] == gears[idx-1][2]) return;
        right(idx + 1, -dir);
        rotate(idx, dir);
    }

    static void rotate(int idx, int dir) {
        if (dir == 1) { //시계 방향 -> 마지막을 처음으로
            char tmp = gears[idx][7];
    		for (int i = 7; i > 0; i--) {
    			gears[idx][i] = gears[idx][i-1];
    		}
    		gears[idx][0] = tmp;
            
        } else { //반시계 방향 -> 처음을 마지막으로
            char tmp = gears[idx][0];
    		for (int i = 0; i < 7; i++) {
    			gears[idx][i] = gears[idx][i+1];
    		}
    		gears[idx][7] = tmp;
        }
    }
}
```
재귀 구조!!


---
@www.codrive.co.kr